require "minitest/autorun"
require_relative "map"

class MapTest < Minitest::Test
  def setup
    key = "..#.#..#####.#.#.#.###.##.....###.##.#..###.####..#####..#....#..#..##..###..######.###...####..#..#####..##..#.#####...##.#.#..#.##..#.#......#.###.######.###.####...#.##.##..#..#..#####.....#.#....###..#.##......#.....#..#..#..##..#...##.######.####.####.#.#...#.......#..#.#.#...####.##.#......#..#...##.#.##..#...##.#.##..###.#......#.#.......#.#.#.####.###.##...#.....####.#..#..#.##.#....##..#.####....##...##..#...#......#.#.......#.......##..####..#...#.#.#...##..#.#..###..#####........#..####......#..#"

    input = [
      "#..#.",
      "#....",
      "##..#",
      "..#..",
      "..###"
    ]

    @map = Map.new(key, input)
  end

  def test_count
    assert_equal 10, @map.count
    @map.enhance!
    assert_equal 24, @map.count
    @map.enhance!
    assert_equal 35, @map.count
  end
end
